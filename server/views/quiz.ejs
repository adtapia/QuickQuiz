<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickQuiz</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="quiz-container">
        <header>
            <nav class="navbar navbar-expand-lg bg-body-tertiary bg-custom">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#"><span>QuickQuiz</span></a>
                    <div class="collapse navbar-collapse justify-content-end">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <input class="btn btn-primary" type="reset" value="Reset">
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <section>
            <div class="card-container">
                <% if (current_question < question_set.length) { %>
                    <div class="card">
                        <h5 class="card-header"><%= question_set[current_question].question %></h5>
                        <div class="card-body">
                            <form method="GET" action="/next/<%= current_question %>">
                                <div class="d-grid gap-2 col-6 mx-auto">
                                    <% question_set[current_question].options.forEach((option) => { %>
                                        <button class="btn btn-primary" type="submit" name="answer" value="<%= option %>"><%= option %></button>
                                    <% }) %>
                                </div>
                            </form>
                        </div>
                    </div>
                <% } else { %>
                    <div class="card">
                        <h5 class="card-header">Quiz Completed</h5>
                        <div class="card-body">
                            <p>Thank you for taking the quiz!</p>
                            <p>Your score: <%= score %> / <%= question_set.length %></p>
                        </div>
                    </div>
                <% } %>
            </div>
        </section>

        <footer>
            <% if (current_question < question_set.length) { %>
                <div class="progress" role="progressbar" aria-valuenow="<%= (current_question + 1) / question_set.length * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-bar" style="width: <%= (current_question + 1) / question_set.length * 100 %>%;"></div>
                </div>
            <% } %>
        </footer>
    </div>
</body>
</html>
